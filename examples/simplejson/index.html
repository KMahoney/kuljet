<!DOCTYPE HTML><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/default.css"><title>Kuljet: A Simple JSON API</title></head><body><div id="navBar" onclick="var navStyle = document.querySelector(&#39;nav&#39;).style; navStyle.display = navStyle.display === &#39;block&#39; ? &#39;none&#39; : &#39;block&#39;"><img src="/bars.svg" style="height: 1.2rem; pointer-events: none;"></div><nav><ul><li>Kuljet</li><ul><li class><a href="/">Introduction</a></li><li class><a href="/install/">Install</a></li><li><a href="https://github.com/KMahoney/kuljet"><img src="/ext.svg" style="height: 0.8rem; margin-right: 0.1rem;">GitHub</a></li></ul><li>Examples</li><ul><li class><a href="/examples/chat/">A Simple Chat Server</a></li><li class><a href="/examples/forum/">A Forum</a></li><li class="selected"><a href="/examples/simplejson/">A Simple JSON API</a></li></ul><li>Guides</li><ul><li class><a href="/guides/expressions/">Expressions</a></li><li class><a href="/guides/structure/">The Structure of a Kuljet Program</a></li><li class><a href="/guides/writing-html/">Writing HTML</a></li><li class><a href="/guides/database/">Interacting with the Database</a></li></ul><li>Reference</li><ul><li class><a href="/reference/stdlib/">Standard Library</a></li></ul><li>Notes</li><ul><li class><a href="/notes/future/">Future Work</a></li></ul></ul></nav><main><h1>A Simple JSON API</h1><div class="sourceCode"><pre class="sourceCode"><code class="sourceCode"><span id="1"><a href="#1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="2"><a href="#2" aria-hidden="true" tabindex="-1"></a><span class="co">An extremely simple JSON API:</span></span>
<span id="3"><a href="#3" aria-hidden="true" tabindex="-1"></a></span>
<span id="4"><a href="#4" aria-hidden="true" tabindex="-1"></a><span class="co">curl http://localhost:4000</span></span>
<span id="5"><a href="#5" aria-hidden="true" tabindex="-1"></a><span class="co">{&quot;allThings&quot;:[]}</span></span>
<span id="6"><a href="#6" aria-hidden="true" tabindex="-1"></a></span>
<span id="7"><a href="#7" aria-hidden="true" tabindex="-1"></a><span class="co">curl http://localhost:4000 -X POST -d &quot;name=blah&quot;</span></span>
<span id="8"><a href="#8" aria-hidden="true" tabindex="-1"></a><span class="co">{&quot;createdThing&quot;:{&quot;name&quot;:&quot;blah&quot;}}</span></span>
<span id="9"><a href="#9" aria-hidden="true" tabindex="-1"></a></span>
<span id="10"><a href="#10" aria-hidden="true" tabindex="-1"></a><span class="co">curl http://localhost:4000</span></span>
<span id="11"><a href="#11" aria-hidden="true" tabindex="-1"></a><span class="co">{&quot;allThings&quot;:[{&quot;name&quot;:&quot;blah&quot;}]}</span></span>
<span id="12"><a href="#12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="13"><a href="#13" aria-hidden="true" tabindex="-1"></a></span>
<span id="14"><a href="#14" aria-hidden="true" tabindex="-1"></a><span class="kw">table</span><span class="va"> things</span> { name : text }</span>
<span id="15"><a href="#15" aria-hidden="true" tabindex="-1"></a></span>
<span id="16"><a href="#16" aria-hidden="true" tabindex="-1"></a><span class="kw">serve</span> <span class="kw">get</span> / =</span>
<span id="17"><a href="#17" aria-hidden="true" tabindex="-1"></a>  json { allThings = things -&gt; { name } }</span>
<span id="18"><a href="#18" aria-hidden="true" tabindex="-1"></a></span>
<span id="19"><a href="#19" aria-hidden="true" tabindex="-1"></a><span class="kw">serve</span> <span class="kw">post</span> / =</span>
<span id="20"><a href="#20" aria-hidden="true" tabindex="-1"></a>  <span class="kw">fun</span> thing : { name : text } -&gt;</span>
<span id="21"><a href="#21" aria-hidden="true" tabindex="-1"></a>      <span class="kw">insert</span><span class="va"> things</span> thing <span class="kw">then</span></span>
<span id="22"><a href="#22" aria-hidden="true" tabindex="-1"></a>      json { createdThing = thing }</span></code></pre></div></main></body></html>